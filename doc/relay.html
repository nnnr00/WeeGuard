<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Moontag 中轉頁面</title>
    <script>
        // 取得 URL 參數中的 user_id（雖然在此階段不必使用）
        const params = new URLSearchParams(window.location.search);
        const userId = params.get('user_id') || '';

        // 第一步：直接跳到 moontag 直鏈（這裡的鏈接是你提供的示例）
        const moonTagLink = 'https://otieu.com/4/10489994';
        // 3 秒後再跳到密鑰說明頁面（key_link.html）
        const keyLinkHtml = '/docs/key_link.html';

        setTimeout(() => {
            // 先跳到 moontag 直鏈
            window.location.href = moonTagLink;
        }, 0);

        // 3 秒後（計時從頁面載入開始算），再跳到 key_link.html
        // 為了讓使用者感受到「3 秒」的等待，我們在上面的 setTimeout 之後再加一次
        // 這裡使用更精確的時間控制
        setTimeout(() => {
            window.location.href = keyLinkHtml + '?user_id=' + encodeURIComponent(userId);
        }, 3000);
    </script>
</head>
<body>
    <p>⏳ 正在跳轉，請稍等...</p>
</body>
</html>
